"use strict";(self.webpackChunkpurple_sector=self.webpackChunkpurple_sector||[]).push([[886],{4652:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"user/telemetry-collectors","title":"Telemetry Collectors","description":"Telemetry collectors are the bridge between your racing simulator and Purple Sector. They read live data from the game and feed it into the telemetry pipeline.","source":"@site/docs/user/telemetry-collectors.md","sourceDirName":"user","slug":"/user/telemetry-collectors","permalink":"/PurpleSector/user/telemetry-collectors","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"userGuide","previous":{"title":"AI Agent","permalink":"/PurpleSector/user/ai-agent"},"next":{"title":"Plugins","permalink":"/PurpleSector/user/plugins"}}');var l=r(4848),s=r(8453);const o={},i="Telemetry Collectors",c={},d=[{value:"Available Collectors",id:"available-collectors",level:2},{value:"Assetto Corsa (AC)",id:"assetto-corsa-ac",level:2},{value:"Game Configuration",id:"game-configuration",level:3},{value:"Running the Collector",id:"running-the-collector",level:3},{value:"Available Channels",id:"available-channels",level:3},{value:"Assetto Corsa Competizione (ACC)",id:"assetto-corsa-competizione-acc",level:2},{value:"Broadcasting-Only Collector",id:"broadcasting-only-collector",level:3},{value:"Hybrid Collector (Recommended)",id:"hybrid-collector-recommended",level:3},{value:"Game Configuration",id:"game-configuration-1",level:3},{value:"Demo Collector",id:"demo-collector",level:2},{value:"Choosing a Transport",id:"choosing-a-transport",level:2},{value:"Verifying Telemetry",id:"verifying-telemetry",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"telemetry-collectors",children:"Telemetry Collectors"})}),"\n",(0,l.jsx)(n.p,{children:"Telemetry collectors are the bridge between your racing simulator and Purple Sector. They read live data from the game and feed it into the telemetry pipeline."}),"\n",(0,l.jsx)(n.h2,{id:"available-collectors",children:"Available Collectors"}),"\n",(0,l.jsxs)(n.p,{children:["Purple Sector ships with several collectors under the ",(0,l.jsx)(n.code,{children:"collectors/"})," directory:"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Collector"}),(0,l.jsx)(n.th,{children:"Game"}),(0,l.jsx)(n.th,{children:"Transport"}),(0,l.jsx)(n.th,{children:"Platform"}),(0,l.jsx)(n.th,{children:"Channels"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"AC (Kafka)"})}),(0,l.jsx)(n.td,{children:"Assetto Corsa"}),(0,l.jsx)(n.td,{children:"Kafka"}),(0,l.jsx)(n.td,{children:"Windows"}),(0,l.jsx)(n.td,{children:"Full (UDP)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"AC (WebSocket)"})}),(0,l.jsx)(n.td,{children:"Assetto Corsa"}),(0,l.jsx)(n.td,{children:"WebSocket"}),(0,l.jsx)(n.td,{children:"Windows"}),(0,l.jsx)(n.td,{children:"Full (UDP)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"ACC Broadcasting"})}),(0,l.jsx)(n.td,{children:"ACC"}),(0,l.jsx)(n.td,{children:"Kafka / WebSocket"}),(0,l.jsx)(n.td,{children:"Cross-platform"}),(0,l.jsx)(n.td,{children:"Limited (no inputs)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"ACC Hybrid"})}),(0,l.jsx)(n.td,{children:"ACC"}),(0,l.jsx)(n.td,{children:"WebSocket"}),(0,l.jsx)(n.td,{children:"Windows only"}),(0,l.jsx)(n.td,{children:"Full (broadcasting + shared memory)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Demo (Kafka)"})}),(0,l.jsx)(n.td,{children:"None"}),(0,l.jsx)(n.td,{children:"Kafka"}),(0,l.jsx)(n.td,{children:"Any"}),(0,l.jsx)(n.td,{children:"Simulated data"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Demo (WebSocket)"})}),(0,l.jsx)(n.td,{children:"None"}),(0,l.jsx)(n.td,{children:"WebSocket"}),(0,l.jsx)(n.td,{children:"Any"}),(0,l.jsx)(n.td,{children:"Simulated data"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"assetto-corsa-ac",children:"Assetto Corsa (AC)"}),"\n",(0,l.jsx)(n.p,{children:"The AC collector reads telemetry via UDP from Assetto Corsa."}),"\n",(0,l.jsx)(n.h3,{id:"game-configuration",children:"Game Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["Edit ",(0,l.jsx)(n.code,{children:"Documents/Assetto Corsa/cfg/telemetry.ini"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"[TELEMETRY]\nENABLED=1\nUDP_PORT=9996\nUDP_ADDRESS=127.0.0.1\n"})}),"\n",(0,l.jsx)(n.h3,{id:"running-the-collector",children:"Running the Collector"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Kafka transport (recommended for full pipeline)\nnpm run telemetry:ac-kafka\n\n# WebSocket transport (direct to browser)\nnpm run telemetry\n"})}),"\n",(0,l.jsx)(n.h3,{id:"available-channels",children:"Available Channels"}),"\n",(0,l.jsx)(n.p,{children:"Throttle, brake, steering, speed, gear, RPM, lap time, lap number, normalized track position."}),"\n",(0,l.jsx)(n.h2,{id:"assetto-corsa-competizione-acc",children:"Assetto Corsa Competizione (ACC)"}),"\n",(0,l.jsxs)(n.p,{children:["ACC provides two collector options. See ",(0,l.jsx)(n.strong,{children:"Developer Guide \u2192 ACC Telemetry Collectors"})," and ",(0,l.jsx)(n.strong,{children:"ACC Hybrid Telemetry Collector"})," for in-depth technical details."]}),"\n",(0,l.jsx)(n.h3,{id:"broadcasting-only-collector",children:"Broadcasting-Only Collector"}),"\n",(0,l.jsxs)(n.p,{children:["Cross-platform, uses ACC's UDP broadcasting protocol. Provides session context, car position, lap times, and speed \u2014 but ",(0,l.jsx)(n.strong,{children:"not"})," throttle, brake, or steering inputs."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm run telemetry:acc-kafka\n"})}),"\n",(0,l.jsx)(n.h3,{id:"hybrid-collector-recommended",children:"Hybrid Collector (Recommended)"}),"\n",(0,l.jsxs)(n.p,{children:["Windows-only. Combines broadcasting with shared memory to provide ",(0,l.jsx)(n.strong,{children:"full telemetry"})," including throttle, brake, steering, and RPM."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm run telemetry:acc-hybrid\n"})}),"\n",(0,l.jsx)(n.h3,{id:"game-configuration-1",children:"Game Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["Edit ",(0,l.jsx)(n.code,{children:"Documents/Assetto Corsa Competizione/Config/broadcasting.json"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "updListenerPort": 9000,\n  "connectionPassword": "",\n  "commandPassword": ""\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"demo-collector",children:"Demo Collector"}),"\n",(0,l.jsxs)(n.p,{children:["The demo collector publishes pre-recorded telemetry data \u2014 no game required. It is started automatically by ",(0,l.jsx)(n.code,{children:"npm run dev:start"}),", or you can run it manually:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Kafka transport\nnpm run telemetry:demo-kafka\n\n# WebSocket transport\nnpm run telemetry:demo\n"})}),"\n",(0,l.jsx)(n.p,{children:"This is useful for development, testing, and demos."}),"\n",(0,l.jsx)(n.h2,{id:"choosing-a-transport",children:"Choosing a Transport"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Kafka"})," \u2014 Recommended for the full pipeline. Provides durable delivery, per-session ordering, and feeds both the WebSocket bridge and the database consumer."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"WebSocket"})," \u2014 Direct connection to the browser. Simpler setup but no persistence or replay."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["When using ",(0,l.jsx)(n.code,{children:"npm run dev:start"}),", the Kafka transport is used by default with the demo collector."]}),"\n",(0,l.jsx)(n.h2,{id:"verifying-telemetry",children:"Verifying Telemetry"}),"\n",(0,l.jsx)(n.p,{children:"After starting a collector:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open ",(0,l.jsx)(n.code,{children:"http://localhost:3000"})," and log in."]}),"\n",(0,l.jsx)(n.li,{children:"Check the nav tree \u2014 a new session should appear under an event."}),"\n",(0,l.jsx)(n.li,{children:"Click the session to see live telemetry (if streaming) or click a lap for analysis."}),"\n",(0,l.jsx)(n.li,{children:"Check collector logs for errors:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# If using PM2\nnpx pm2 logs demo-collector-dev\n"})}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"No data appearing"})," \u2014 Verify the game is running and in a session (not just at the menu). Check UDP ports and firewall rules."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Missing channels"})," \u2014 If using the ACC broadcasting-only collector, throttle/brake/steering will be absent. Use the hybrid collector for full data."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Collector crashes"})," \u2014 Check logs for connection errors. Ensure the game's broadcasting config matches the collector's environment variables."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["For more details, see ",(0,l.jsx)(n.strong,{children:"Troubleshooting"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>i});var t=r(6540);const l={},s=t.createContext(l);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);