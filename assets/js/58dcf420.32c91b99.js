"use strict";(self.webpackChunkpurple_sector=self.webpackChunkpurple_sector||[]).push([[799],{5318:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"dev/acc-hybrid-collector","title":"ACC Hybrid Telemetry Collector","description":"This page explains the hybrid ACC telemetry collector that combines the ACC Broadcasting Protocol with Shared Memory to provide complete telemetry.","source":"@site/docs/dev/acc-hybrid-collector.md","sourceDirName":"dev","slug":"/dev/acc-hybrid-collector","permalink":"/PurpleSector/dev/acc-hybrid-collector","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"userGuide","previous":{"title":"ACC Telemetry Collectors","permalink":"/PurpleSector/dev/acc-telemetry"},"next":{"title":"LangGraph Analyzer","permalink":"/PurpleSector/dev/langgraph-analyzer"}}');var s=r(4848),l=r(8453);const t={},c="ACC Hybrid Telemetry Collector",o={},a=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup Summary",id:"setup-summary",level:2},{value:"Data Merging Strategy",id:"data-merging-strategy",level:2},{value:"Verifying Telemetry",id:"verifying-telemetry",level:2},{value:"Advanced Configuration",id:"advanced-configuration",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"acc-hybrid-telemetry-collector",children:"ACC Hybrid Telemetry Collector"})}),"\n",(0,s.jsx)(n.p,{children:"This page explains the hybrid ACC telemetry collector that combines the ACC Broadcasting Protocol with Shared Memory to provide complete telemetry."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The hybrid collector is:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Platform:"})," Windows only (Shared Memory)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data sources:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Broadcasting \u2013 session context, position, lap times, etc."}),"\n",(0,s.jsx)(n.li,{children:"Shared Memory \u2013 throttle, brake, steering, RPM, and other physics data."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Output:"})," merged telemetry at ~10 Hz, suitable for analysis and visualization."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Compared to broadcasting-only collectors, the hybrid collector adds full input channels and richer physics data."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Windows OS."}),"\n",(0,s.jsx)(n.li,{children:"Assetto Corsa Competizione installed and configured for broadcasting."}),"\n",(0,s.jsx)(n.li,{children:"Node.js 18+."}),"\n",(0,s.jsxs)(n.li,{children:["Purple Sector codebase and dependencies installed (includes ",(0,s.jsx)(n.code,{children:"acc-node-wrapper"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setup-summary",children:"Setup Summary"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Configure ACC broadcasting in ",(0,s.jsx)(n.code,{children:"Documents/Assetto Corsa Competizione/Config/broadcasting.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "updListenerPort": 9000,\n  "connectionPassword": "",\n  "commandPassword": ""\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Start services:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"WebSocket server (legacy path):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run ws-server\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Next.js frontend:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run dev\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Hybrid collector:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run telemetry:acc-hybrid\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Launch ACC, start a session, and drive. The collector will register with ACC and begin streaming full telemetry."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"data-merging-strategy",children:"Data Merging Strategy"}),"\n",(0,s.jsx)(n.p,{children:"The hybrid collector pipeline is:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"ACC Broadcasting (UDP, ~10 Hz)\n          +\nACC Shared Memory (Physics, ~333 Hz)\n          \u2193\nHybrid Collector \u2192 WebSocket/Kafka \u2192 Frontend\n"})}),"\n",(0,s.jsx)(n.p,{children:"On each broadcasting update (e.g., every 100 ms):"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Receive session/position data from ACC via UDP."}),"\n",(0,s.jsx)(n.li,{children:"Read the current physics state from Shared Memory (throttle, brake, steering, RPM, etc.)."}),"\n",(0,s.jsx)(n.li,{children:"Merge both into a single telemetry frame."}),"\n",(0,s.jsx)(n.li,{children:"Forward the merged frame into the Purple Sector pipeline."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This gives you fresh input data from a high-frequency source while keeping output at a manageable 10 Hz."}),"\n",(0,s.jsx)(n.h2,{id:"verifying-telemetry",children:"Verifying Telemetry"}),"\n",(0,s.jsx)(n.p,{children:"With the hybrid collector running and ACC in a session, you should see:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Speed, gear, lap number, lap time, and track position."}),"\n",(0,s.jsx)(n.li,{children:"Throttle/brake values (0\u2013100%)."}),"\n",(0,s.jsx)(n.li,{children:"Steering angle (-100% to +100%)."}),"\n",(0,s.jsx)(n.li,{children:"RPM and related engine channels."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If Shared Memory fails to initialize, the collector will fall back to broadcasting-only behavior and log errors; common causes include ACC not running or not being in a session."}),"\n",(0,s.jsx)(n.h2,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Typical tuning points:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update interval"})," \u2013 how often to merge and send frames (e.g., 100 ms)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Remote ACC host"})," \u2013 using ",(0,s.jsx)(n.code,{children:"ACC_HOST"})," when ACC runs on a different machine; in that case you may be limited to broadcasting-only telemetry."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Broadcast/passwords"})," \u2013 set ",(0,s.jsx)(n.code,{children:"ACC_PASSWORD"})," if you enable passwords in ",(0,s.jsx)(n.code,{children:"broadcasting.json"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["See the original ",(0,s.jsx)(n.code,{children:"docs/ACC_HYBRID_SETUP.md"})," for the full, step-by-step setup guide and troubleshooting tips; this page captures the conceptual design and integration details."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var i=r(6540);const s={},l=i.createContext(s);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);