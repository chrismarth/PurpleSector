"use strict";(self.webpackChunkpurple_sector=self.webpackChunkpurple_sector||[]).push([[528],{2899:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"dev/langgraph-analyzer","title":"LangGraph Analyzer","description":"This page documents the LangGraph-based analyzer implementation used for lap analysis in Purple Sector.","source":"@site/docs/dev/langgraph-analyzer.md","sourceDirName":"dev","slug":"/dev/langgraph-analyzer","permalink":"/PurpleSector/dev/langgraph-analyzer","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"userGuide","previous":{"title":"ACC Hybrid Telemetry Collector","permalink":"/PurpleSector/dev/acc-hybrid-collector"},"next":{"title":"Plot Layout System","permalink":"/PurpleSector/dev/plot-layouts"}}');var l=r(4848),a=r(8453);const i={},t="LangGraph Analyzer",o={},d=[{value:"Overview",id:"overview",level:2},{value:"State and Workflow",id:"state-and-workflow",level:2},{value:"Conditional Edges",id:"conditional-edges",level:2},{value:"Usage",id:"usage",level:2},{value:"Extensibility",id:"extensibility",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"langgraph-analyzer",children:"LangGraph Analyzer"})}),"\n",(0,l.jsx)(n.p,{children:"This page documents the LangGraph-based analyzer implementation used for lap analysis in Purple Sector."}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"LangGraphAnalyzer"})," is built with LangGraph's ",(0,l.jsx)(n.code,{children:"StateGraph"})," to orchestrate a multi-step analysis workflow:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fetch lap data."}),"\n",(0,l.jsx)(n.li,{children:"Optionally fetch a reference lap."}),"\n",(0,l.jsx)(n.li,{children:"Compare laps when a reference is present."}),"\n",(0,l.jsx)(n.li,{children:"Call an LLM (GPT-based) for analysis."}),"\n",(0,l.jsx)(n.li,{children:"Parse structured suggestions for the UI."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"It serves as a reference for building more complex agentic workflows around telemetry and lap data."}),"\n",(0,l.jsx)(n.h2,{id:"state-and-workflow",children:"State and Workflow"}),"\n",(0,l.jsx)(n.p,{children:"The analyzer defines a state shape that flows between nodes, including:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"lapId"}),", ",(0,l.jsx)(n.code,{children:"referenceLapId"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"lapData"}),", ",(0,l.jsx)(n.code,{children:"referenceData"}),", ",(0,l.jsx)(n.code,{children:"comparisonData"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"analysis"})," (raw LLM output) and ",(0,l.jsx)(n.code,{children:"suggestions"})," (parsed suggestions)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"error"})," when things go wrong."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"The graph roughly looks like:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"START\n  \u2193\nfetch_lap_data\n  \u2193\nfetch_reference_lap\n  \u2193\n \u251c\u2500 has reference? \u2192 compare_laps \u2192 analyze_with_llm \u2192 parse_suggestions \u2192 END\n \u2514\u2500 no reference? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 analyze_with_llm \u2192 parse_suggestions \u2192 END\n"})}),"\n",(0,l.jsx)(n.p,{children:"Each node:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Receives the current state."}),"\n",(0,l.jsx)(n.li,{children:"Performs a logical operation (fetch, compare, analyze, parse)."}),"\n",(0,l.jsx)(n.li,{children:"Returns partial updates that are merged into the state."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"conditional-edges",children:"Conditional Edges"}),"\n",(0,l.jsx)(n.p,{children:"LangGraph conditional edges provide the agentic behavior:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["After ",(0,l.jsx)(n.code,{children:"fetch_reference_lap"}),", a decision function inspects ",(0,l.jsx)(n.code,{children:"referenceData"}),".","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If present \u2192 route to ",(0,l.jsx)(n.code,{children:"compare_laps"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["If absent \u2192 skip directly to ",(0,l.jsx)(n.code,{children:"analyze_with_llm"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Additional conditional edges can be used to implement retries, deep analysis passes, or iterative refinement loops."}),"\n",(0,l.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(n.p,{children:"Conceptually, the analyzer is invoked like:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"const analyzer = new LangGraphAnalyzer();\nconst suggestions = await analyzer.analyze(lapId, referenceLapId);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Internally, the workflow:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Loads telemetry for ",(0,l.jsx)(n.code,{children:"lapId"})," (and optional reference)."]}),"\n",(0,l.jsx)(n.li,{children:"Performs any local comparison logic."}),"\n",(0,l.jsx)(n.li,{children:"Calls the LLM with the collected context."}),"\n",(0,l.jsxs)(n.li,{children:["Parses the LLM response into structured ",(0,l.jsx)(n.code,{children:"LapSuggestion"})," objects."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"extensibility",children:"Extensibility"}),"\n",(0,l.jsx)(n.p,{children:"This graph-based approach makes it straightforward to add:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"New nodes (e.g., additional pre-processing or ML prediction steps)."}),"\n",(0,l.jsx)(n.li,{children:"Conditional branches based on confidence scores or error states."}),"\n",(0,l.jsx)(n.li,{children:"Loops for iterative refinement of suggestions."}),"\n",(0,l.jsx)(n.li,{children:"Integration with external tools (e.g., MCP tools) as extra nodes."}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["For full code-level details and examples of adding nodes/edges, see the original ",(0,l.jsx)(n.code,{children:"docs/LANGGRAPH_ANALYZER.md"}),"; this page captures the architectural intent and high-level design."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>t});var s=r(6540);const l={},a=s.createContext(l);function i(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);